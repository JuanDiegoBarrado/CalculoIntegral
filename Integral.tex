\documentclass[10pt,a4paper,openright]{book}

\title{CÁLCULO INTEGRAL}
\author{Juan Diego Barrado Daganzo, Mario Calvarro Marines \\ e Iker Muñoz Martínez}
\date{\today}
\pagestyle{plain}
\setlength{\parskip}{0.35cm} %edicion de espaciado
\setlength{\parindent}{0cm} %edicion de sangría
\clubpenalty=10000 %líneas viudas NO
\widowpenalty=10000 %líneas viudas NO

\usepackage[spanish]{babel} %Para que el idioma por defecto sea español
\usepackage{amsmath} %Paquetes para mates
\usepackage{amsfonts} %Paquetes para mates
\usepackage{amssymb} %Paquetes para mates
\usepackage{stmaryrd} % paquete para mates
\usepackage{latexsym} %Paquetes para mates
\usepackage{multicol} %Paquetes columnas
\usepackage{cancel} %Paquete tachar cosas
\usepackage[top=2.5cm, bottom=2.5cm, left=3cm, right=3cm]{geometry}

\usepackage{centernot}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{float}

\usepackage{titlesec} %Formato de capitulos y secciones
    \titleformat{\chapter}[display]{\normalfont\huge\bfseries\color{capitulos}}{\thechapter}{20pt}{\Huge}[\titlerule{}]
    \titleformat{\section}{\normalfont\Large\bfseries\color{secciones}}{\thesection}{1em}{}
    \titleformat{\subsection}{\normalfont\large\bfseries\color{subsecciones}}{\thesubsection}{1em}{}
    \titleformat{\subsubsection}{\normalfont\normalsize\bfseries\color{subsubsecciones}}{\thesubsubsection}{1em}{}

\usepackage[dvipsnames,usenames]{xcolor} %activar e incluir colores
    \definecolor{capitulos}{RGB}{60,0,0}%gama de colores de los capitulos
    \definecolor{secciones}{RGB}{95,8,5}%gama de colores de las secciones
    \definecolor{subsecciones}{RGB}{140,36,31}%gama de colores de las subsections
    \definecolor{subsubsecciones}{RGB}{188,109,79}%gama de colores de las subsubsections
    \definecolor{teoremas}{RGB}{164,56,32}
    
\usepackage{graphicx} %Para incluir fotos
\graphicspath{{./fotos/}}

\usepackage{pgfplots}
\pgfplotsset{compat=1.17}
\usepackage{tkz-fct}

\usepackage{ntheorem}[thmmarks]	% paquete de formateo de entornos matemáticos

\theoremstyle{break}
\theoremheaderfont{\normalfont\bfseries\color{teoremas}}
\theorembodyfont{\itshape}
\theoremseparator{\vspace{0.2cm}}
\theorempreskip{\topsep}
\theorempostskip{\topsep}
\theoremindent0cm
\theoremnumbering{arabic}
\theoremsymbol{}
\theoremprework{\vspace{0.2cm} \hrule}
\theorempostwork{\vspace{0.2cm}\hrule}
    \newtheorem*{defi}{Definición}

\theoremprework{\vspace{0.25cm}}
    \newtheorem*{theo}{Teorema}

\theoremprework{\vspace{0.25cm}}
    \newtheorem*{coro}{Corolario}

\theoremprework{\vspace{0.25cm}}
    \newtheorem*{lema}{Lema}

\theoremprework{\vspace{0.25cm}}
    \newtheorem*{prop}{Proposición}

\theoremheaderfont{\normalfont}
\theorembodyfont{\normalfont}
\theoremsymbol{\hfill\square}
    \newtheorem*{demo}{\underline{Demostración}:}

\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\img}{img}

\begin{document}
\maketitle
\chapter*{CONCEPTO DE MEDIDA}%
En general, la teoría de la integración está sustentada mayoritariamente por el concepto de medida que se tiene en el espacio sobre el que se integra. Pueden darse dos situaciones, que se defina una medida y a partir de ahí la integral correspondiente o puede ocurrir que se defina la integral y a partir de la misma se mida. Nosotros optaremos por definir todo lo relativo a la medida de forma previa, para que la teoría de integración que se desarrollará después esté sustentada en las propiedades métricas con las que dotemos a $\mathbb{R}^n$ a través de la definición de dicha medida.
\label{sec:medidas}
\section*{MEDIDA}%
El concepto fundamental de esta sección es comprender qué entendemos por medida y que propiedades tiene, así como demostrar que la medida de Lebesque es un buen intrumento de medida para trabajar en $\mathbb{R}^n$.

\label{sub:definicion_de_medida_exterior}

\begin{defi}[Rectángulo]
Definimos un rectángulo en $\mathbb{R}^n$ como el conjunto;
$$Q = \left[ a_1, b_1 \right] \times \ldots \times \left[ a_n, b_n \right] \subset \mathbb{R}^{n}$$
Además, definimos como \textbf{volumen} de $Q$ a 
$$v\left( Q \right) = \left( b_n - a_n \right) \cdots \left( b_1 - a_1 \right)$$
\end{defi}

\begin{defi}[Medida exterior de Lebesque]
Sea $A \subset \mathbb{R}^{n}$, definimos como \textbf{medida exterior} de $A$ a:
$$
\mu^{*}(A) = \inf \sum_{k=1}^{\infty} v\left( Q_k \right); \text{ donde } \{Q_k\}_{k=1}^{\infty} \text{ y } A \subset \bigcup_{k = 1}^{\infty} Q_k
$$ 
\end{defi}

\underline{Observación}

Podemos restringir las familias $\{Q_k\}$ a aquellas que tengan $\mathrm{diam}\ Q_k < \delta$ para un cierto delta y la definición no cambia. Esto es así porque, en el fondo, el conjunto de sumatorios de volúmenes que estamos escogiendo es el mismo, ya que para familias con algún $Q_k$ de diámetro mayor, éste se puede dividir en varios rectángulos más pequeños cuyo volumen suman el de $Q_k$ pero cuyo diámetro es menor que dicho delta.

\begin{defi}[Medida nula]
Decimos que $A$ tiene medida nula si podemos encontrar recubrimientos de $A$ con sumatorio de volúmenes tan pequeños como queramos, es decir:
$$\mu^{*}\left( A \right) = 0 \Leftrightarrow \forall \varepsilon > 0 \ \exists \{Q_k\} \text{ rec. de } A: \sum_{k=1}^{\infty} v\left( Q_k \right) < \varepsilon $$  
\end{defi}

\underline{Ejemplos}
	\begin{enumerate}
       \item Si $x_0 \in \mathbb{R}^{n}$, entonces $\forall \varepsilon > 0, \exists k \in \mathbb N: \ v\left( Q\left( x_0 \right)  \right) < \frac{\varepsilon}{2^{k}}$, luego es de medida nula.
       \item Si $N$ numerable, entonces podemos escribir $N = \{x_k\}$, para cada $x_k$ podemos encontrar $Q_k\left( x_k \right): v\left( Q_k\left( x_k \right)  \right) < \frac{\varepsilon}{2^{k}}$ que lo contenga, luego se tiene que es de medida nula.
    \end{enumerate}
    
\begin{prop}
La medida exterior es invariante por traslaciones, es decir:
$$A \subset \mathbb{R}^{n}, \ c \in \mathbb{R}^{n} \Rightarrow \mu^{*}\left( c + A \right) = \mu^{*}\left( A \right) $$ 
\end{prop}

\begin{prop}
La medida exterior es covariante con respecto a la inclusión:
$$A \subset B \subset \mathbb{R}^{n} \Rightarrow \mu^{*}\left( A \right) \le \mu^{*}\left( B \right) $$
\end{prop}
\begin{demo}
Si $\mu^{*}\left( B \right) = +\infty$ es trivial, luego suponemos que no.

Sea $\{Q_k\}$ un recubrimiento de $B$, como $A \subset B \Rightarrow \{Q_k\}$ es un recubrimiento de A, luego\footnote{Puesto que si eres menor que todos los elementos de un conjunto eres menor o igual que su ínfimo.}
$$\forall \{Q_k\}: \mu^{*}\left( A \right) < \sum_{k=1}^{\infty} v\left( Q_k \right) \Rightarrow \mu^{*}\left( A \right) \le \mu^{*}\left( B \right) $$
\end{demo}

\begin{prop}
Sean $A, B \in \mathbb{R}^{n} \Rightarrow \mu^{*}\left( A \cup B \right) \le \mu^{*}\left( A \right) + \mu^{*}\left( B \right)$.
\end{prop}
\begin{demo}
Si $\mu^{*}\left( A \right) = +\infty$ o $\mu^{*}\left( B \right) = +\infty$ es trivial. 
 
Suponiendo ambos finitos, entonces para $\varepsilon > 0$ se tiene que:
$$\begin{cases}
\exists \{Q_k\} \text{ rec. de A: } \sum_{k=1}^{\infty} v\left( Q_k \right) < \mu^{*}\left( A \right) + \frac{\varepsilon}{2}  \\
\exists \{R_k\} \text{ rec. de B: } \sum_{k=1}^{\infty} v\left( R_k \right) < \mu^{*}\left( A \right) + \frac{\varepsilon}{2} 
\end{cases}
$$
Consideremos $ \{Q_k, R_k\} = \{S_j\}$ donde $S_j = \begin{cases}
Q_{\frac{j}{2}},\ j \text{ par} \\
R_{\frac{j+1}{2}},\ j \text{ impar} 
\end{cases}$. Tenemos trivialmente que $\{S_j\}$ es rec. de $A\cup B$, luego:
$$\mu^{*}\left( A\cup B \right) \le \sum_{j=1}^{\infty} v\left( S_j \right) = \sum_{k=1}^{\infty} v\left( Q_k \right) + \sum_{k=1}^{\infty} v\left( R_k \right) < \mu^{*}\left( A \right) + \mu^{*}\left( B \right) + \varepsilon$$
Y como dicha desigualdad es para cualquier $\varepsilon > 0$ se tiene la desigualdad del enuncaido.
\end{demo}

\begin{prop}
En cualquier rectángulo, la medida exterior y su volumen coinciden, esto es:
$$\forall Q \subset \mathbb{R}^n : v\left( Q \right) = \mu^{*}\left( Q \right)$$
\end{prop}
\begin{demo}
    \begin{itemize}
        \item $ \mu^*\left( Q \right) \le v\left( Q \right) $:
        
        Tomamos $\varepsilon > 0$ y consideramos la familia $ \{Q_k\}$ recubrimiento de $Q$ donde $Q_1 = Q$ y $\forall k \geq 2 : v(Q_k) < \varepsilon/2^{k}$. De este modo, $\{Q_k\} $ es rec. de $Q$ y además
$$\sum_{k=1}^{\infty} v\left( Q_k \right) = v\left( Q \right) + \sum_{k=2}^{\infty} v\left( Q_k \right) < v\left( Q \right) + \sum_{k=2}^{\infty} \frac{\varepsilon}{2^{k}} < v\left( Q \right) + \varepsilon$$
		Por tanto, por ser ínfimo y ser para todo epsilon, se tiene:
		$$\mu^*\left( Q \right) \le v\left( Q \right) + \varepsilon \Rightarrow \mu^*\left( Q \right) \le v\left( Q \right)$$
        \item $v\left( Q \right) \le \mu^*\left( Q \right)$:
        
        Observamos que $ \overline{Q}$ es la unión de las caras de $Q$ que denotaremos por $C_i$, por tanto:
        \begin{align*}
        v\left( Q \right) = v\left( \overline{Q} \right)  && \mu^{*}\left( Q \right) \le \mu^{*}\left( \overline{Q} \right)
        \end{align*}
        $$\mu^{*}\left( \overline{Q} \right) = \mu^{*}\left( Q \cup \left( C_1, \ldots, C_m \right)  \right) \le \mu^{*}\left( Q \right) + \mu^{*}\left( C_1 \right) + \ldots + \mu^{*}\left( C_m \right) = \mu^{*}\left( Q \right)$$
        Luego, concluimos que un cubo cualquiera tiene la misma medida que el mismo cubo, pero cerrado. Por tanto, podemos suponer que $Q$ es cerrado y por ser acotado en $\mathbb{R}^n$ es compacto. 
        
Si el volumen es menor que todos los posibles sumatorios, entonces tendrá que ser menor que el ínfimo, luego basta probar que $v\left( Q \right) \le \sum_{k=1}^{\infty} v\left( Q_k \right), \ \forall \{Q_k\} \ Q \subset \bigcup_{k \in \mathbb{N}} Q_k $.

Como $Q$ lo podíamos considerar compacto, se tiene que dado un recubrimiento $\{Q_k\}_{k=1}^{\infty}$:
$$Q \subset Q_1 \cup \ldots \cup Q_N \Rightarrow v\left( Q \right) \le v\left( Q_1 \right) +\ldots+v\left( Q_N \right) \le \sum_{k=1}^{\infty} v\left( Q_k \right)$$
\end{itemize}
\end{demo}

\begin{defi}
Definimos el \textbf{diámetro de un conjunto} como:
$$\mathrm{diam}\ A = \sup \{\vert \vert x - t \vert  \vert: \ x \in A, \ t \in B \}$$
Y definimos la \textbf{distancia entre dos conjuntos} como:
$$d(A,B) = \inf \{||x-y||: x\in A, \ y \in B\}$$
\end{defi}

\begin{prop}
Para conjuntos a distancia positiva, la medida exterior tiene la propiedad aditiva:
$$\mathrm{d}\left( A, B \right) > 0 \Rightarrow \mu^*\left( A \cup B \right) = \mu^*\left( A \right) + \mu^*\left( B \right)$$
\end{prop}
\begin{demo}
Si $ \mu^*\left( A\cup B \right) = +\infty$ entonces es trivial, por tanto, podemos suponer que es finito.

Como conocemos una desigualdad, basta solo probar la otra. Tomamos $\delta > 0: \ \delta < \frac{\mathrm{d}\left( A, B \right)}{2}$ y $\forall \varepsilon > 0: \ \exists \{Q_k\} \text{ rectángulos }: \ \mathrm{diam}\ Q_k < \delta$ de forma que $A\cup B \subset \bigcup_{k \in \mathbb{N}} Q_k$, es decir, recubren y además $\sum_{k=1}^{\infty} v\left( Q_k \right) < \mu^*\left( A\cup B \right) + \varepsilon $.

Estos $Q_k$ tienen la propiedad de que, o bien $Q_k \cap A = \emptyset$, o bien $Q_k \cap B = \emptyset$, ya que si no fuese así existirían $a,b\in \mathbb{R}^n: d(a,b) < \mathrm{diam} \ Q_k < \delta < d(A,B)$ lo cual es absurdo. 

Podemos dividir el recubrimiento entonces en dos conjuntos:
$$ \begin{cases}
C:= \{Q_k : Q_k \cap A \neq \emptyset\} \text{ recubrimiento de } A \\
D:= \{Q_k : Q_k \cap B \neq \emptyset\} \text{ recubrimiento de } B
\end{cases}$$
Y no incluimos los que no cortan a ninguno puesto que esos sobran, en consecuencia:
$$\mu^*(A\cup B) +\varepsilon \geq \sum_{k=1}^{\infty} v\left( Q_k \right) \geq \sum_{C}^{\infty} v\left( Q_k \right) + \sum_{D}^{\infty} v\left( Q_k \right) \geq \mu^*\left( A \right) + \mu^*\left( B \right)$$
Y como es para todo epsilon, se tiene la desigualdad que nos faltaba.
\end{demo}

\begin{theo}
    La medida exterior de Lebesgue cumple las siguientes propiedades: 
    \begin{enumerate}
        \item $ \mu^*\left( \emptyset \right) = 0 $ 
        \item $A \subset B \Rightarrow \mu^*\left( A \right) \le \mu^*\left( B \right)$
        \item $ \mu^*\left( \bigcup_{k\in \mathbb{N}} A_k \right) \le \sum_{k=1}^{\infty} \mu^*\left( A_k \right)$
    \end{enumerate}
\end{theo}
 \begin{demo}
La propiedad 2 ya la tenemos demostrada, y la propiedad uno viene de aplicar la 2 a un conjunto numerable, puesto que el vacío pertenece a él y este es de medida nula. 

Para demostrar la 3, si $\exists k: \mu^*\left( A_k \right) = +\infty$ es trivial, luego suponemos que $ \mu^*\left( A_k \right) < +\infty$ y tomamos $ \varepsilon>0$, entonces para cada $A_k$ hay un recubrimiento que verifica:
$$ \forall k \in \mathbb N, \ \exists \{Q_j^k\}_{j=1}^\infty : A_k \subset \bigcup_{j \in \mathbb{N}} Q_j^{k} : \sum_{j=1}^{\infty} v\left( Q_j^k \right) < \mu^*\left( A_k \right) + \frac{\varepsilon}{2^k}
$$
De este modo, como cada $A_k$ está contenido en la unión sobre $j$ de un conjunto $\{Q_j^k\}$ para $k$ concreto, la unión de todos los $A_k$ está contenida en la unión sobre $k$ de dichos recubrimientos, es decir: 
$$\bigcup_{k \in \mathbb{N}} A_k \subset \bigcup_{k \in \mathbb{N}} \left(\bigcup_{j \in \mathbb{N}} Q_j^k  \right) = \bigcup_{j, k = 1} ^{\infty} Q_j^k$$
Como $\{Q_j^k\}$ es numerable, lo anterior es una unión numerable de conjuntos numerables,  entonces:
$$\mu^*\left( \bigcup_{k\in \mathbb{N}} A_k \right) \le \sum_{j, k} v\left( Q_j^k \right) = \sum_{k=1}^{\infty} \sum_{j=1}^{\infty} v\left( Q_j^k \right) < \sum_{k=1}^{\infty} \left( \mu^*\left( A_k \right) + \frac{\varepsilon}{2^k} \right) = \left( \sum_{k=1}^{\infty} \mu^*\left( A_k \right) \right) + \varepsilon $$
Y como es para todo $\varepsilon$ se tiene la desigualdad.
\end{demo}

\underline{Observación}

La condición de $d(A,B) > 0$ para que la medida exterior de la unión sea la suma de las medidas exteriores no se puede relajar, es decir, existen conjuntos disjuntos en $\mathbb{R}^n $ con $d(A,B)>0$ para los cuales la medida de la suma no es la suma de las medidas.
$$\exists A, B: A\cap B = \emptyset\; \land \;\mu^*\left( A\cup B \right) < \mu^*\left( A \right) + \mu^*\left( B \right)$$

\begin{defi}[Conjunto Medible]
Sea $A \subset \mathbb{R}^n$, se dice que es \textbf{medible} si y sólo si
$$\forall S \subset \mathbb{R}^n : \mu^*\left( S \right) = \mu^*\left( S\cap A \right) + \mu^*\left( S \cap A^c \right)$$
\end{defi}

\begin{theo}[De Caratheodory]
Los conjuntos medibles forman una $\sigma$-algebra y la medida exterior de Lebesgue, es decir:
\begin{itemize}
\item $\emptyset \in F_\sigma$
\item $A\in F_ \sigma \Rightarrow A^c \in F_\sigma$
\item $\forall k \in \mathbb{N}: A_k \in F_\sigma \Rightarrow \bigcup_{k=1}^\infty A_k \in F_\sigma$
\end{itemize}
Además, la medida exterior de Lebesque es $ \sigma$-aditiva cuando la restringimos a los conjuntos medibles, es decir:
$$\mu^*\left(\bigsqcup_{n\in \mathbb{N}}A_n\right) = \sum_{n=1}^\infty \mu^*(A_n)$$
Una vez restringida a la $\sigma-$álgebra, la medida exterior de Lebesque cumple la definición de medida y se denota simplemente por $\mu$.
\end{theo}

\begin{prop}
Todo conjunto $A$ de medida nula es medible.
\end{prop}
\begin{demo}
La desigualdad $\mu^*\left( S \right) \le \mu^*\left( S\cap A \right) + \mu^*\left( S\cap A^c \right)$ siempre es cierta, luego hay que demostrar la otra, es decir:
$$ \mu^*\left( S\cap A \right) + \mu^*\left( S\cap A^c \right) \le \mu^*\left( S \right) $$
Pero esta es trivial, puesto que el primer sumando vale cero ya que es subconjuntos de $A$ y el segundo es subconjunto de $S$.
\end{demo}

\begin{prop}
Los rectángulos $Q$ son conjuntos medibles. 
\end{prop}
\begin{demo}
Siempre se cumple que $ \mu^*\left( S \right) \le \mu^*\left( S\cap Q \right) + \mu^*\left( S\cap Q^c \right)$, luego solo es necesario ver la otra ¿$ \mu^*\left( S\cap Q \right) + \mu^*\left( S\cap Q^c \right) \le \mu^*\left( S \right)$?

Tomemos un recubrimiento cualquiera de $S$, es decir:
$$\{Q_j\}: S \subset \bigcup_{j \in \mathbb{N}} Q_j$$
Observamos que $ \{Q_j \cap Q\} $ siempre son rectángulos que recubren a $S\cap Q$, luego:
$$\mu^*\left( S\cap Q \right) \le \sum_{j=1}^{\infty} v\left( Q_j \cap Q \right)$$
A su vez, $ \{Q_j \cap Q^c\}$ recubren a $S\cap Q^c$, pero no tienen porqué ser rectángulos. Sin embargo, sí son una unión finita de estos, es decir, para cada $Q_j \cap Q^c$ podemos escribir esta como $Q_j \cap Q^c = R_1 \cup \cdots \cup R_m$, por tanto, podemos recubrir mediante rectángulos como:
$$S \cap Q^c \subset \bigcup_{j=1}^\infty Q_j\cap Q^c = \bigcup_{j=1}^\infty \left(\bigcup_{i=1}^\infty  R_i^j \right)\Rightarrow \mu^*\left( S\cap Q^c \right) \le \sum_{i=1}^{\infty} v\left( R^j_i \right) $$

$$ R_1 \cup \cdots \cup R_m \cup \left( Q_j \cap Q \right) = Q_j \Rightarrow v\left( Q_j \right) = v\left( R_1 \right) +\ldots + v\left( R_m \right) + v\left( Q_j\cap Q \right) $$
En consecuencia, tenemos que:
$$\mu^*\left( S\cap Q \right) + \mu^*\left( S \cap Q^c \right) \le \sum_{j=1}^{\infty} v\left( Q_j \cap Q \right) + \sum_{j=1}^{\infty} \left( v\left( Q_j\cap Q \right) + v\left( R_1^j \right) +\ldots + v\left( R_m^j \right) \right) = \sum_{j=1}^{\infty} v\left( Q_j \right)$$
\end{demo}

\begin{prop}
\begin{itemize}
\item Todo conjunto abierto es medible
\item Todo cerrado es medible
\item Las uniones numerables de cerrados son medibles
\item Las intersecciones numerables de abiertos son medibles
\end{itemize}
\end{prop}

\begin{prop}
Si $A\subset B$, ambos son conjuntos medibles y $\mu(A) < \infty$, entonces:
$$\mu(B\setminus A) = \mu(B) - \mu(A)$$
\end{prop}
\begin{demo}
Escribimos $B$ como unión disjunta de conjuntos de la forma $B=A\cup (B\setminus A)$, esto implica que $\mu(B) = \mu(A) + \mu(B\setminus A) \Rightarrow \mu(B\setminus A) =  \mu(B) - \mu(A)$.
\end{demo}

\begin{defi}[Sucesión creciente de conjuntos]
Decimos que una sucesión de conjuntos $\{A_k\}$ es creciente y lo denotamos por $\{A_k\}\uparrow$ si y sólo si $A_k \subset A_{k+1} : \forall k  \in \mathbb{N}$.
\end{defi}

\begin{prop}
Si tenemos una familia de conjuntos crecientes $\{A_k\}\uparrow$ medibles, entonces se tiene que:
$$\mu\left(\bigcup_{k=1}^\infty A_k\right) = \lim_{k\rightarrow \infty} \mu(A_k)$$
\end{prop}
\begin{demo}
Si alguno tiene medida infinita se tiene trivialmente, luego podemos suponer que $\forall k .\in \mathbb{N}: \mu(A_k) < \infty$.

En primer lugar, vamos a construir la siguiente sucesión de conjuntos:
$$\begin{cases}
B_1 = A_1 \\
B_2 = A_2\setminus A_1 \\
\vdots \\ 
B_k = A_k \setminus A_{k-1}
\end{cases} \Rightarrow \bigcup_{k=1}^\infty B_k = \bigcup_{k=1}^\infty A_k \Rightarrow \mu\left(\bigcup_{k=1}^\infty B_k\right) = \mu\left(\bigcup_{k=1}^\infty A_k\right)$$
Sin embargo, como $\{B_k\}_{k=1}^\infty$ son disjuntos dos a dos, tenemos que:
$$\mu\left(\bigcup_{k=1}^\infty B_k\right) = \sum_{k=1}^\infty \mu(B_k) =\sum_{k=1}^\infty \mu(A_k\setminus A_{k-1}) = \sum_{k=1}^\infty \mu(A_k)- \mu(A_{k-1}) = \lim_{k\rightarrow \infty} \mu(A_k) - \mu(\emptyset) = \lim_{k\rightarrow \infty}\mu(A_k)$$
\end{demo}

\begin{defi}[Sucesión decreciente de conjuntos]
Decimos que una sucesión de conjuntos $\{A_k\}$ es decreciente y lo denotamos por $\{A_k\}\downarrow$ si y sólo si $A_{k+1} \subset A_{k} : \forall k  \in \mathbb{N}$.
\end{defi}

\begin{prop}
Si tenemos una familia de conjuntos decrecientes $\{A_k\}\downarrow$ medibles y $\exists k \in \mathbb N : \mu(A_k) < \infty$, entonces se tiene que:
$$\mu\left(\bigcap_{k=1}^\infty A_k\right) = \lim_{k\rightarrow \infty} \mu(A_k)$$
\end{prop}
\begin{demo}
Completamente análoga a su homóloga anterior.
\end{demo}

\begin{theo}
Sea $A \subset \mathbb{R}^n$. Son equivalentes:  
\begin{enumerate}
\item $A$ es medible.
\item $\forall \varepsilon > 0,\ \exists G \supset A$ abierto $: \mu\left( G\setminus A  \right) < \varepsilon$  
\item $A = D \setminus N: D$ es $G_{\delta},\ \mu\left( N \right) = 0$  
\item $A = C \cup N: C$ es $F_{\sigma},\ \mu\left( N \right) = 0$  
\item $\forall \varepsilon > 0,\ \exists F \subset A$ cerrado $: \mu\left( A \setminus F \right) < \varepsilon$  
\end{enumerate}
\end{theo}
\begin{demo}
\begin{itemize}
\item $1 \Rightarrow 2$:

Supongamos primero que $A$ es acotado. Dado $\varepsilon > 0$, como $\mu\left( A \right) < +\infty$ por ser acotado, entonces $\exists \{Q_k\}_{k=1}^{\infty} : A \subset \displaystyle \bigcup_{k=1}^\infty Q_k$ de forma que $\sum_{k=1}^{\infty} v\left( Q_k \right) < \mu\left( A \right) + \varepsilon$. 

Como el volumen no depende de que los rectángulos sean abiertos o cerrados, consideramos los $Q_k$ rectángulos abiertos de modo que:
$$G = \bigcup_{k=1}^{\infty} Q_k \mbox{ abierto} : A\subset G$$
Como $\mu (A) < + \infty$, entonces podemos ver que:
$$\mu\left( G \setminus A \right) = \mu\left( G \right) - \mu\left( A \right) \le \sum_{k=1}^{\infty} \mu\left( Q_k \right) - \mu\left( A \right) < \varepsilon $$ 
En general, si $A$ no es acotado, definimos: 
$$A_k := \{x \in A: k - 1 \le \vert \vert x \vert  \vert < k \}$$
[DIBUJO]

Los conjuntos $A_k$ son la intersección de $A$ con coronas disjuntas 2 a 2 concéntricas que descomponen $A$ como:
$$ A = \bigsqcup_{k=1}^{\infty}A_k$$ 
Si fijamos $\varepsilon > 0$ y como $\mu\left( A \right) < +\infty$, podemos aplicar el razonamiento anterior para acotados en cada $A_k$, luego:
$$\exists G_k \supset A_k \text{ abierto} : \mu\left( G_k \setminus A_k \right) < \frac{\varepsilon}{2^k}$$
Por tanto, si consideramos $G$ como la unión de los $G_k$, tenemos:
$$G = \bigcup_{k=1}^{\infty}G_k \text{ es un abierto : } G \supset A$$ 
Y se cumple que:
$$\mu\left( G \setminus A \right) = \mu\left( \left( \bigcup_{k \in \mathbb{N}}G_k  \right) \setminus A   \right) \le \mu\left(  \bigcup_{k \in \mathbb{N}} \left(G_k \setminus A_k  \right)  \right) \le \sum_{k=1}^{\infty} \mu\left( G_k - A_k \right) < \sum_{k=1}^{\infty} \frac{\varepsilon}{2^k} = \varepsilon $$ 

\item $2 \Rightarrow 3$:

$\forall k \in \mathbb{N}$, consideramos $G_k \subset A$ abierto tal que $\mu\left( G_k \setminus A \right) < \frac{1}{k}$, después definimos el conjunto:
$$D := \bigcap_{k=1}^{\infty}G_k \text{ que es } G_{\delta}:D \supset A$$ 
Como $A = D \setminus (D \setminus A)$, definimos entonces $N = D \setminus A$ y ocurre que:
$$\forall k \in \mathbb{N}: \mu\left( D \setminus A \right) \le \mu\left( G_k \setminus A \right) < \frac{1}{k} \Rightarrow \mu\left( N \right) = 0$$

\item $3 \Rightarrow 1$:

Tenemos $A = D \setminus N$, o lo que es lo mismo, que $A = D \cap N^c$. $D$ es medible por hipótesis, y $N^c$ es el complementario de un medible, que es medible\footnote{Por el teorema de Caratheodory}. Como las intersecciones de medibles son medibles, $A$ es medible.

\item $1 \Rightarrow 5$:

Sea $\varepsilon > 0$, como $A$ es medible, entonces $A^c$ también lo es y, por el apartado 2, tenemos que:
$$\exists G \supset A^c \text{ abierto : } \mu\left( G \setminus A^c \right) < \varepsilon$$ 
Sea $F := G^c \text{ cerrado}$, como  $A^c \subset G \Rightarrow F = G^c \subset \left( A^c \right)^c = A$, por tanto:
$$A \setminus F = \left( A^c \right)^c \setminus F  =\left( A^c \right)^c \cap F^c = G \cap \left( A^c \right)^c = G \setminus A^c$$
Luego, se tiene que:
$$\mu\left( A \setminus F \right) = \mu\left( G \setminus A^c \right) < \varepsilon$$

\item $5 \Rightarrow 4$: (Similar a $2 \Rightarrow 3$)\\
$\forall k \in \mathbb{N}$, consideramos $F_k \subset A : \mu\left( A \setminus F_k \right) < \frac{1}{k}$, después definimos el conjunto:
$$C := \bigcup_{k = 1}^{\infty}F_k  \text{ es } F_{\sigma} : \ C \subset A$$ 
Y la demostración es análoga a la implicación $2 \Rightarrow 3$.

\item $4 \Rightarrow 1$

De nuevo y por similitud con $3\Rightarrow 1$, $A = C \cup N$ es medible por ser unión de medibles.
\end{itemize}
\end{demo}

Comprobadas las propiedades que tiene la medida sobre conjuntos medibles, nos interesa saber qué funciones nos permiten conservar propiedades de medida interesantes. Es aquí donde juegan un papel fundamental las funciones medibles que permiten asegurar que las preimágenes de abiertos son medibles y, por ello, al trabajar sobre abiertos no debemos preocuparnos sobre las propiedades de medibilidad ya que se conservan también en el conjunto de partida.
 
\section*{FUNCIONES MEDIBLES}%
\label{sec:funciones_medibles}


\begin{defi}
Sea $A \subset \mathbb{R}^m$ medible y $f: A \rightarrow \mathbb{R}^m$, definimos una función \textbf{medible} como aquella que verifica:
$$\forall G \subset \mathbb{R}^m \text{ abierto, } f^{-1}(G) \text{ es medible}.$$ 
\end{defi}

\begin{prop}
\begin{enumerate}
\item Sea una función $f: \mathbb{R}^m \to \mathbb{R}^m$, si es continua, entonces es medible.

\item Sea $f: A \to \mathbb{R}^m$ una función medible y $\varphi: \mathbb{R}^m \to \mathbb{R}^k$ una función continua\footnote{En general, la composición de medibles no tiene porqué ser medible}, entonces $\varphi \circ f$ es medible.
\end{enumerate}
\end{prop}

\underline{Observación}:

Como podemos expresar un abierto como recubrimiento de bolas (que con la norma infinito serían cubos) tenemos que $G = \bigcup_{k \in \mathbb{N}} Q_k$, de este modo, se tiene que $f^{-1}\left( G \right) = \bigcup_{k \in \mathbb{N}}f^{-1}\left( Q_k \right)$ y, en consecuencia, podemos redefinir el concepto de función medible de la siguiente forma:
$$f \text{ medible} \Leftrightarrow f^{-1}\left( Q \right) \text{ medible, } \forall Q \subset \mathbb{R}^m \text{ cubo abierto.}$$


\begin{prop}
Sea $f: A \to \mathbb{R}^m$ una función, es medible si y sólo si cada una de sus componentes es medible.
\end{prop}
\begin{demo}
\begin{itemize}
\item $\Rightarrow$

Cada componente se puede expresar como:
$$f_i = \pi_i \circ f$$
Donde $f$ es medible por hipótesis y $\pi_i\left( x_1, \ldots, x_m \right) = x_i$ es continua.

\item $\Leftarrow$

Dado $Q = \left( a_1, b_1 \right) \times \ldots \times \left( a_m, b_m \right)$ cubo abierto, tenemos que $f^{-1}\left( Q \right) = \bigcap_{i = 1}^{m} f_i^{-1}\left( a_i, b_i \right)$. Esto es así porque:
$$x \in f^{-1}\left( Q \right) \Leftrightarrow f\left( x \right) \in Q \Leftrightarrow \forall i \in \mathbb{N} : f_i\left( x \right) \in \left( a_i, b_i \right)$$
\end{itemize}
\end{demo}

\begin{prop}
Sean $f, g: A\subset \mathbb{R}^n \rightarrow \mathbb{R}^m$ medibles, se cumplen las siguientes propiedades:
\begin{enumerate}
\item $f+g$ medible.
\item $\forall a \in \mathbb{R}: a\cdot f$ medible.
\item $\left<f, g\right>$ medible.
\item $\vert \vert f \vert \vert$ medible.
\end{enumerate}
\end{prop}
\begin{demo}
\begin{enumerate}
\item Definimos la función $F: A \to \mathbb{R}^{2m}$ de la forma:
$$F\left( x \right) = \left( f_1\left( x \right), \ldots, f_m\left( x \right), g_1\left( x \right), \ldots, g_m\left( x \right) \right)$$
Y por hipótesis, como las funciones son medibles y cada componente es medible, entonces $F$ es medible. Del mismo modo, definimos: 
\begin{align*}
+: \mathbb{R}^m \times \mathbb{R}^m & \rightarrow \mathbb{R} \\
\left( u, v \right) &\mapsto u+v
\end{align*}
que trivialmente es continua, por tanto:
$$\left( f + g \right)\left( x \right) = \left( + \circ F \right)\left( x \right)$$
Es medible por composición de medibles con continuas.

\item Trivial

\item Utilizando la misma función $F$ definida en el primer apartado, tenemos que la función:
\begin{align*}
\left<,\right>: \mathbb{R}^m \times \mathbb{R}^m & \rightarrow \mathbb{R} \\
\left( u, v \right) &\mapsto \left<u, v\right>
\end{align*}
es continua, luego por composición de nuevo se tiene:
$$\left<f, g\right> \left( x \right) = \left( \left<, \right> \circ F \right)\left( x \right)$$
que es medible.

\item Completamente análogo a antes, se trata de ver la siguiente igualdad $\vert \vert f \vert \vert = \left<f, f\right>^{\frac{1}{2}}$ y demostrar que es la composición con:
\begin{align*}
\sqrt{•}: \mathbb{R}^+ &\rightarrow \mathbb{R}^+ \\
u &\mapsto \sqrt{u}
\end{align*}
que es continua.
\end{enumerate}
\end{demo}

\begin{theo}
Sea $A \subset  \mathbb{R}^m$ medible y $f: A \to \mathbb{R}$. Son equivalentes:
\begin{enumerate}
    \item $f$ medible.
    \item $\{x \in \forall : f\left( x \right) < \alpha\} = f^{-1}\left( -\infty, \alpha \right),\ \forall \alpha \in \mathbb{R}$
    \item $\{x \in \forall : f\left( x \right) \le \alpha\} = f^{-1}\left( -\infty, \alpha \right],\ \forall \alpha \in \mathbb{R}$
    \item $\{x \in \forall : f\left( x \right) > \alpha\} = f^{-1}\left( \alpha, +\infty \right),\ \forall \alpha \in \mathbb{R}$
    \item $\{x \in \forall : f\left( x \right) \ge \alpha\} = f^{-1}\left[ \alpha, +\infty \right),\ \forall \alpha \in \mathbb{R}$
\end{enumerate}
\end{theo}
\begin{demo}
$2 \iff 3 \iff 4 \iff 5$: 
\begin{itemize}
    \item $2 \implies 3$:
    $$f^{-1}\left( -\infty, \alpha \right] = \bigcap_{m \in \mathbb{N}}f^{-1}\left( -\infty, \alpha + \frac{1}{m} \right) \text{ medibles}$$
    El resto son similares.
\end{itemize}
$1 \implies 2$:
$$f^{-1}\left( -\infty, \alpha \right) \text{abierto, por tanto, medible.}$$
$2 \implies 4$:
$$f^{-1}\left( \alpha, \beta \right) = f^{-1}\left( \alpha, \infty \right) \cap f^{-1}\left( -\infty, \beta \right)$$
\end{demo}

\underline{Ejemplo}:
Sea la función de Dirichlet:
$$\chi_{\mathbb{Q} \cap \left[0, 1\right]} = \sum_{n=1}^{\infty} \ldots$$
No sé que ejemplo quería poner.

Consideremos funciones del estilo:
$$f: A \to \left[-\infty, \infty\right] = \mathbb{R} \cup \{+\infty\} \cup \{-\infty\}$$
Donde $\mathrm{dom}f = \{x \in A: f\left(x\right) \in \mathbb{R}\}$

\begin{defi}
Sea $f: A \to \left[-\infty, \infty\right]$ es medible si:
$$f^{-1}\left(+\infty\right),\ f^{-1}\left(-\infty\right) \text{ medibles},$$
y
$$f\left(\mathrm{dom}f\right) \to \mathbb{R} \text{ medible}.$$
\end{defi}

\begin{prop}
Sea $A \subset \mathbb{R}^m$ medible y $f_k: A \to \left[-\infty, \infty\right]$ medible. Entonces:
$$f = \sup_k f_k \text{ es medible}$$
\end{prop}
\begin{demo}
Como $f^{-1}\left(-\infty\right) = \bigcap_{k \in \mathbb{N}}f^{-1}_k\left(-\infty\right)$ y es intersección de medibles $\implies f$ es medible. 

Sea ahora $f^{-1}\left(\infty\right) = \bigcap_{m \in \mathbb{N}}\bigcup_{k \in \mathbb{N}}\{x : f_k \left(x\right) > m\}$. 

Tenemos que $y \in \bigcup_{k \in \mathbb{N}}\{x: f_k\left(x\right) > m\} \implies \forall m,\ \exists K_m: f_{k_m}\left(y\right) > m \implies \sup f_k\left(y\right) = \infty$

Tenemos que $\{x \in \mathrm{dom}f: f\left(x\right) \le \alpha\} = \bigcap_{k \in \mathbb{N}}\{x \in \mathrm{dom} f_k: f_k\left(x\right) \le \alpha\}$ porque:
$$f\left(x\right) \in \mathbb{R}: f\left(x\right) \le \alpha \implies \mathbb{R} \ni \sup f_k\left(x\right) \le \alpha \iff f_k\left(x\right) \le \alpha,\ \forall k \in \mathbb{N}$$
\end{demo}

\begin{coro}
Si $f_k$ medibles $\implies$ $f = \inf_k f_k$ es medible.
\end{coro}
\begin{demo}
Ya que $f = \inf f_k = -\sup_k \left(-f_k\right)$
\end{demo}

\begin{prop}
Sea $A \subset \mathbb{R}^m$ medible y $f_k: A \to \left[-\infty, \infty\right]$ medibles. Entonces:
$$\limsup_{k \to \infty}f_k\; \land \;\liminf_{k \to \infty}f_k \text{ son medibles}$$
\end{prop}
\begin{demo}
Observamos que:
$$\limsup_{k \to \infty}f_k = \inf_m \sup_{k\ge m} f_k$$
$$\liminf_{k \to \infty}f_k = \sup_m \inf_{k\ge m}f_k$$
\end{demo}

\underline{Ejemplo}: 

\begin{prop}
Sea $A$ medible y $f_k: A \to \left[-\infty, \infty\right]$ medibles. Entonces: $$A_0 = \{x : \exists \lim_{k \to \infty}f_k\left(x\right)\}\text{ es medible.}$$ 
y 
$$f: A_0 \to \left[-\infty, \infty\right] \text{ es medible}$$
\end{prop}
\begin{demo}
Tenemos que $A_0 = A_{\infty} \cup D_0 \cup A^{\infty}$ donde $A_{\infty} = \{x: \liminf_{k \to \infty}f_k\left(x\right) = \limsup_{k \to \infty}f_k\left(x\right) = -\infty\}$, $A^{\infty} = \{x: \lim_{k \to \infty}f_k\left(x\right) = \infty\}$ y $D_0 = \{x: \lim_{k \to \infty}f_k\left(x\right) \in \mathbb{R}\}$. Es decir,
$$A_{\infty} = \left(\liminf_{k \to \infty}f_k \right)^{-1}\left(-\infty\right) \text{ es medible.}$$
$$A^{\infty} = \left(\liminf_{k \to \infty}f_k \right)^{-1}\left(\infty\right) \text{ es medible.}$$
$$D_0 \subset \dom\left(\limsup_{k \to \infty}f_k\right) \cap \dom\left(\liminf_{k \to \infty}f_k\right) = D \text{ medible.}$$
$$D_0 = \{x \in D: \limsup_{k \to \infty}f_k\left(x\right) = \liminf_{k \to \infty}f_k\left(x\right)\} = \{x \in D: g\left(x\right) = 0\} = g^{-1}\left(\{0\}\right) \text{ medible} \implies$$
$A_0$ es medible.

Tenemos que $f = \lim_{k \to \infty}f_k= \limsup_{k \to \infty}f_k = \liminf_{k \to \infty}f_k$
\end{demo}

\begin{defi}
Decimos que $P$ se cumple en \textbf{casi todo punto} $\iff$
$$\exists N \subset \mathbb{R}^m: \mu\left(N\right) = 0\; \land \;P \text{ se cumple } \forall x \not\in N$$
\end{defi}

\underline{Ejemplo}:
$f = g$ ctp. si $\exists N: \mu\left(N\right) = 0: f\left(x\right) = g\left(x\right),\ \forall x \not\in N \left(x \in A\right)$

\underline{Obs}:
$$\begin{cases}
    f = g \text{ctp}\\
    f \text{ medible}
\end{cases} \implies g \text{ medible}$$
Sea $G$ abierto ¿$g^{-1}\left(G\right)$ abierto?
$$g^{-1}\left(G\right) = \left(f^{-1}\left(G\right) \setminus N_1\right) \cup N_2 \text{ medible}$$
Donde $N_1, N_2$ de medida $0$ ($N_1, N_2 \subset N$)

\underline{Obs}:
$f = lim f_k$  ctp con $f_k$ medibles. Entonces $f$ es medible:
\begin{demo}
$$\exists N: \mu\left(N\right) : f\left(x\right) = \lim f_k\left(x\right),\ \forall x \in \forall \setminus N$$
$$\tilde{f}\left(x\right) = \limsup f_k\left(x\right): \tilde{f}: A \to \overline{\mathbb{R}} \text{ medible} \implies \tilde{f} = f \text{ ctp } \implies f \text{ medible}$$
\end{demo}

\begin{enumerate}
\item Sea 
$$\chi_E \left(x\right) : \begin{cases}
    1 \text{ si } x \in E\\
    0 \text{ si } x \not\in E
\end{cases}$$
$$\chi_E: \mathbb{R}^{n} \to \mathbb{R},\ E \subset \mathbb{R}^n \implies$$
$\chi_E$ es medible $\iff E$ es medible.

Observamos que $\chi_{\mathbb{Q} \cap \left[0, 1\right] = 0}$ ctp. ($\mu\left(\mathbb{Q}\right) = 0$).
\item Sea 
$$\varphi = \sum_{k=1}^{n} \alpha_k \chi_{E_k} \text{ es medible}$$
Que se denomina función simple.
\item 
\begin{prop}
Sea $f: \mathbb{R}^n \to \mathbb{R}$ continua ctp. Entonces es medible.
\end{prop}
\begin{demo}
Observamos que: 
$$f\cdot \chi_{\left[-N, N\right]^{n}} \to_{N \to \infty} f$$
``Trabajamos'' con ese cubo $Q$ y lo dividimos en $\forall k: \{Q_j^k\}_{j=1}^{\infty}$ de lado $\frac{1}{2^k}: Q = \bigcup_{j \in \mathbb{N}} Q_j^k$. $Q = \left[-N, N\right)^{m}$

A su vez, definimos $C_j^k = \inf \{f\left(x\right): x \in Q_j^k\}$ y 
$$\varphi_k = \sum_{j = 1}^{\infty} c_j^k \chi_{Q_j^k} \text{ medible}$$
¿$\varphi_k \to^k f\cdot \chi_{\left[-N, N\right]}$ ctp?

Si $f$ es continua en $x  \in \left[-N, N\right]^n\implies$
$$\{\varphi_k\left(x\right)\}_k \to f\left(x\right) \implies f\left(x\right) = \lim_{k \to \infty}\varphi_k\left(x\right)$$
$$\forall \varepsilon > 0,\ \exists \delta > 0: \text{ si } \vert\vert y - x \vert\vert < \delta \implies \vert f\left(y\right) - f\left(x\right)\vert < \varepsilon.$$
Sea $k_0: Q_j^{k_0}$ que contiene a $x$, verifica $Q_j^{k_0} \subset B\left(x, \delta\right) \implies$
$$\forall k \ge k_0,\ Q_j^k \subset B\left(x, \delta\right) \implies$$
$$\forall y \in Q_j^k,\ \vert\vert y - x\vert\vert < \delta \implies \vert f\left(y\right) - f\left(x\right) \vert < \varepsilon \implies \vert c_j^k - f\left(x\right) \vert \le \varepsilon \text{ donde } c_j^k = \varphi_k\left(x\right) \implies$$
$$\forall \varepsilon > 0,\ \exists k_0: \text{ si } k \ge k_0 \implies \vert \varphi_k\left(x\right) - f\left(x\right) \vert \le \varepsilon \implies \lim \varphi_k\left(x\right) = f\left(x\right)$$
\end{demo}
\end{enumerate}

\begin{defi}
Definimos como \textbf{oscilación} a: 

Sea $f: \left[a, b\right] \to \mathbb{R}$ y $x_0 \in \left[a, b\right]$:
$$o\left(f, x_0\right) = \lim_{\delta \to o^+} \left(\sup \{ \vert f\left(y\right) - f\left(x\right) \vert : x, y \in \left(x_0 -\delta, x_0 + \delta \right) \} \right)$$
\end{defi}

\begin{prop}
$f$ es cont en $x_0 \iff o\left(f, x_0\right) = 0$
\end{prop}

\begin{theo}[de Lebesgue]
Sea $f: \left[a, b\right] \to \mathbb{R}$ acotada, es integrable Riemann $\iff$ el conjunto de puntos de discontinuidad de $f$ tiene medida $0$.
\end{theo}
\begin{demo}
Sea $\vert f\left(x\right)\vert \le M,\ \forall x \in \left[a, b\right]$ y $D = \{x: f \text{ discontinua en } x\}$
Supongamos que $\mu\left(D\right) = 0$. Tomamos $\varepsilon > 0$, $D_{\varepsilon} = \{x: o\left(f, x\right) < \varepsilon\}$ que es cerrado:

Tenemos que si $x \not\in D_{\varepsilon} \implies o\left(f, x\right) > \varepsilon \implies \exists \delta:$
$$\sup \{ \vert f\left(y\right) - f\left(x\right) \vert: x, y \in \left(x_0 - \delta, x_0 + \delta \right) \}$$

Sea $x_1 \in \left(x_0 - \delta, x_0 + \delta \right) \implies$
$$\sup \{ \vert f\left(y\right) - f\left(x\right) \vert : x, y \in \left(x_1 - \delta, x_1 + \delta \right) \} < \varepsilon \implies o\left(f, x_1\right) < \varepsilon \implies x_1 \not\in D_{\varepsilon}$$
Por lo que es cerrado y, por tanto, compacto con medida $0$ (hipótesis).
Como $D_{\varepsilon} \subset D \implies \mu\left( D_{\varepsilon} \right) = 0$

Por tanto, $\exists \{I_n\}_{n=1}^{\infty}: D_{\varepsilon} \subset \bigcup_{n \in \mathbb{N}} I_n$ y $\sum_{n=1}^{\infty} \mu\left(I_n\right) < \varepsilon \implies$. Como es compacto:
$$D_{\varepsilon} \subset I_1 \cup \ldots \cup I_N,\ \left( \mu\left(I_1\right) + \ldots + \mu\left(I_N\right) < \varepsilon \right)$$
\textit{(Dibujo partición)}. 

Con este recubrimiento generamos una partición formada por $P_1$ y $P_2: P = P_1 \cup P_2$. ($P_1 = I_1 \cup \ldots \cup I_N$?). Entonces:
$$\forall I \in P_2 \text{, si } x \in I: o\left(f, x\right) < \varepsilon \implies \exists I_x \subset I: \vert f\left(y\right) - f\left(z\right) \vert < \varepsilon,\ \forall y, z \in I_x$$

Recubrimos $I$ (que es compacto) con una cantidad finita de $I_x \implies P_2^*$. Definimos 
$$P^* = P_2 \cup P_2^*$$

Tenemos:
$$U\left(f, P^* \right) - L\left(f, P^*\right) :$$
$$\sum_{I\in P^*} \left(\sup_{x \in I} f \left(x\right) - \inf_{x \in I} f\left(x\right) \right) \mu\left(I\right) = \sum_{I \in P_1} \left( \right) + \sum_{I \in P_2^*} \left( \right) \le 2M\varepsilon + \varepsilon\left(b - a\right) = \left(b - a + 2M\right) \varepsilon$$
Por Cauchy, $f$ es integrable Rienmann.

Veamos que $\mu\left(D\right) = 0$. Como $D = \bigcup_{n \in \mathbb{N}} D_{\frac{1}{n}}$. Basta ver que $\mu\left(D_{\frac{1}{n}}\right) = 0,\ \forall n \in \mathbb{N}$.

Tomamos $\varepsilon > 0$, $P$ de $\left[a, b\right]$:
$$U\left(f, P\right) - L\left(l, P\right) < \frac{\varepsilon}{n}$$
$P_1$ los intervalos de $P$ que corta a $D_{\frac{1}{n}}$. (No sé si es $n$ o $m$).
$$\frac{\varepsilon}{n} > \sum_{I \in P_1} \left(\sup_{x \in I} f\left(x\right) - \inf_{x \in I} f\left(x\right) \right) \mu\left(I\right) \ge \frac{1}{n} \sum_{I \in P_1} \mu\left(I\right)$$
(\textit{Dibujo}) 
$$\sum_{I \in P_1} \mu\left(I\right) < \varepsilon \; \land \; D_{\frac{1}{n}} \subset \bigcup_{I \in P_1} I \implies$$
$$\mu\left(D_{\frac{1}{m}}\right) = 0.$$
\end{demo}

Recordemos que llamamos función simple a:
$$\varphi = \sum_{k=1}^{m} \alpha_k\aleph{E_k}$$
que cumple:
\begin{itemize}
    \item Es medible.
    \item Solo toma un nº finito de valores
    \item Si $\varphi$ es medible y solo toma un nº finito de valores $(\beta_1, \ldots, \beta_r)$:
    $$E_j = \varphi^{-1}\left(\{\beta_j\}\right) \text{, medible}$$
    $$\varphi = \sum_{k=1}^{r} \beta_j \aleph{E_j} \implies \varphi \text{ es simple.}$$
\end{itemize}

\begin{defi}
Sea $\varphi$ función simple no negativa:
$$\varphi = \sum_{k=1}^{m} \alpha_k \aleph{E_k},\ \left(\alpha_k > 0\right)$$
Definimos:
$$I\left(\varphi\right) = \sum_{k=1}^{m} \alpha_k \mu\left(E_k\right)$$
\end{defi}
(\textit{Dibujo $\aleph$ no negativa como dos $\aleph$ que pueden ser negativas}). 

\underline{Obs}:
Asumimos que $0 \cdot \left(+ \infty\right) = 0 \implies I\left(\varphi\right) \in \left[0, +\infty\right]$

\begin{prop}
Sea $\varphi$ función simple es posible escribirla de distintas formas:
$$\varphi = \sum_{i=1}^{m} \alpha_i \aleph_{E_i} = \sum_{i=1}^{p} \beta_i \aleph_{D_i}$$
Entonces:
$$\sum_{i=1}^{m} \alpha_i \mu\left(E_i\right) = \sum_{i=1}^{p} \beta_i \mu\left(D_i\right)$$
\end{prop}
\begin{demo}
Problema II hoja 3.
Utilizamos que una de las formas es la canónica.
\end{demo}
\textbf{¡¡Cambiar $\chi$ por función indicatriz!!}

\underline{Obs}:
Este resultado prueba que la definición de $I\left(\varphi\right)$ es consistente.

\begin{prop}
\begin{enumerate}
    \item $c > 0$, $\varphi$ simple no negativo $I\left(c\varphi\right) = cI\left(\varphi\right)$.
    \item $\varphi, \psi$ simples no negativas $\implies I\left(\varphi + \psi\right) = I\left(\varphi\right) + I\left(\psi\right)$
    \item $\varphi \le \psi$ c.t.p $\implies I\left(\varphi\right) \le I\left(\psi\right)$
    \item $\varphi = \psi$ c.t.p $\implies I\left(\varphi\right) = I\left(\psi\right)$
\end{enumerate}
\end{prop}
\begin{demo}
(\textit{Dibujo punto 3}). 
\end{demo}
\underline{Obs}:
Los conjuntos no tienen porque ser intervalos, si fuese este el caso sería, en el fondo, integrabilidad Rienmann.

\begin{defi}
Sea $f: \mathbb{R}^n \to \left[0, +\infty\right]$ medible. Definimos como \textbf{integral (Lebesgue) de $f$} a:
$$\int_{\mathbb{R}^n}f d\mu = \sup_{\substack{\varphi \le f \text{ c.t.p} \\ \varphi \text{ simple}}} I\left(\varphi\right) \in \left[0, +\infty\right]$$
\end{defi}

\begin{prop}
Sea $\varphi$ simple no negativa $\implies$
$$\int_{\mathbb{R}^n}\varphi d \mu = I\left(\varphi\right)$$
\end{prop}
\begin{demo}
$$\varphi \le \varphi \implies I\left(\varphi\right) \le \int_{\mathbb{R}^n} \varphi d \mu$$
Si $\int_{\mathbb{R}^n} \varphi d \mu = +\infty \implies$
$$\forall M > 0,\ \exists \psi \le \varphi: I\left(\psi\right) \ge M \implies$$
$$M \le I\left(\psi\right) \le I\left(\varphi\right) \implies I\left(\varphi\right) \ge M,\ \forall M \implies I\left(\varphi\right) = +\infty$$
Si $\int_{\mathbb{R}^m}\varphi d \mu < +\infty \implies$
$$\forall \varepsilon > 0,\ \exists \psi \le \varphi: I\left(\psi\right) \ge \int_{\mathbb{R}^n}\varphi d \mu - \varepsilon \implies$$
$$I\left(\varphi\right) \ge \int_{\mathbb{R}^n}\varphi d \mu - \varepsilon \implies I\left(\varphi\right) \ge \int_{\mathbb{R}^n}\varphi d \mu$$
\end{demo}

\begin{prop}
Sea $f, g: \mathbb{R}^n \to \left[0, +\infty\right]$ medibles tal que $f \le g$ c.t.p. Entonces:
$$\int_{\mathbb{R}^n}f d \mu \le \int_{R^n}g d \mu.$$
\end{prop}
\begin{demo}
Ejercicio.
\end{demo}

\begin{coro}
Si $f = g$ c.t.p $\implies$
$$\int_{\mathbb{R}^n}f d \mu = \int_{\mathbb{R}^n}g d \mu$$
\end{coro}

\begin{defi}
Sean $A \subset \mathbb{R}^n$ medible, $f: A \to \left[0, +\infty\right]$ medible:
$$\int_A f d \mu = \int_{\mathbb{R}^n}f \aleph_{A} d \mu.$$
\end{defi}
\underline{Obs}:
En general se trabajará con funciones no infinitas para evitar que la integral sea infinita trivialmente.


\end{document}
